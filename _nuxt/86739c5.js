(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{349:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getOrdinality",(function(){return l})),n.d(r,"copyAndReset",(function(){return d})),n.d(r,"first",(function(){return c})),n.d(r,"hideContent",(function(){return h})),n.d(r,"normalizeURI",(function(){return m})),n.d(r,"repeat",(function(){return f})),n.d(r,"resolveURI",(function(){return w})),n.d(r,"getPrefixDef",(function(){return E})),n.d(r,"rw",(function(){return A})),n.d(r,"serialize",(function(){return v})),n.d(r,"unEscapeEntities",(function(){return N}));var o={namespaces:{tei:"http://www.tei-c.org/ns/1.0",teieg:"http://www.tei-c.org/ns/Examples",rng:"http://relaxng.org/ns/structure/1.0"},tei:{eg:["<pre>","</pre>"],ptr:['<a href="$rw@target">$@target</a>'],ref:[["[target]",['<a href="$rw@target">',"</a>"]]],graphic:function(e){let content=new Image;return content.src=this.rw(e.getAttribute("url")),e.hasAttribute("width")&&content.setAttribute("width",e.getAttribute("width")),e.hasAttribute("height")&&content.setAttribute("height",e.getAttribute("height")),content},list:[["[type=gloss]",function(e){let dl=document.createElement("dl");for(let t of Array.from(e.children))if(t.nodeType==Node.ELEMENT_NODE){if("tei-label"==t.localName){let dt=document.createElement("dt");dt.innerHTML=t.innerHTML,dl.appendChild(dt)}if("tei-item"==t.localName){let dd=document.createElement("dd");dd.innerHTML=t.innerHTML,dl.appendChild(dd)}}return dl}]],note:[["[place=end]",function(e){this.noteIndex?this.noteIndex++:this.noteIndex=1;let t="_note_"+this.noteIndex,link=document.createElement("a");link.setAttribute("id","src"+t),link.setAttribute("href","#"+t),link.innerHTML=this.noteIndex;let content=document.createElement("sup");content.appendChild(link);let n=this.dom.querySelector("ol.notes");n||(n=document.createElement("ol"),n.setAttribute("class","notes"),this.dom.appendChild(n));let r=document.createElement("li");return r.id=t,r.innerHTML=e.innerHTML,n.appendChild(r),content}],["_",["(",")"]]],teiHeader:function(e){this.hideContent(e,!1)},title:[["tei-titlestmt>tei-title",function(e){let title=document.createElement("title");title.innerHTML=e.innerText,document.querySelector("head").appendChild(title)}]],cell:[["[cols]",function(e){e.setAttribute("style","grid-column: "+this.getOrdinality(e)+" / span "+e.getAttribute("cols")+";")}]]},teieg:{egXML:function(e){let pre=document.createElement("pre"),content=this.serialize(e,!0).replace(/</g,"&lt;"),t=content.match(/^[\t ]+/);return t&&(content=content.replace(new RegExp("^"+t[0],"mg"),"")),pre.innerHTML=content,pre}}};function l(e,t){let n=1,r=e;for(;r&&null!==r.previousElementSibling&&(!t||r.previousElementSibling.localName==t)&&(n++,r=r.previousElementSibling,r.previousElementSibling););return n}function d(e){let t=e=>{let n=e.nodeType===Node.ELEMENT_NODE?document.createElement(e.nodeName):e.cloneNode(!0);if(e.attributes)for(let t of Array.from(e.attributes))"data-processed"!==t.name&&n.setAttribute(t.name,t.value);for(let r of Array.from(e.childNodes))if(r.nodeType==Node.ELEMENT_NODE){if(!e.hasAttribute("data-empty")){if(r.hasAttribute("data-original")){for(let e of Array.from(r.childNodes)){let r=n.appendChild(t(e));r.nodeType===Node.ELEMENT_NODE&&r.hasAttribute("data-origid")&&(r.setAttribute("id",r.getAttribute("data-origid")),r.removeAttribute("data-origid"))}return n}n.appendChild(t(r))}}else n.appendChild(r.cloneNode());return n};return t(e)}function c(e){return e.replace(/ .*$/,"")}function h(e,t=!0){if(e.childNodes.length>0){let n=document.createElement("span");e.appendChild(n),n.setAttribute("hidden",""),n.setAttribute("data-original","");for(let t of Array.from(e.childNodes))t!==n&&n.appendChild(e.removeChild(t));if(t)for(let e of Array.from(n.querySelectorAll("*")))e.hasAttribute("id")&&(e.setAttribute("data-origid",e.getAttribute("id")),e.removeAttribute("id"))}}function m(e){return this.rw(this.first(e))}function f(e,t){let n="";for(let i=0;i<t;i++)n+=e;return n}function w(e){let t=this.prefixDefs[e.substring(0,e.indexOf(":"))];return e.replace(new RegExp(t.matchPattern),t.replacementPattern)}function E(e){return this.prefixDefs[e]}function A(e){return e.match(/^(?:http|mailto|file|\/|#).*$/)?e:this.base+this.utilities.first(e)}function v(e,t,n){let r="",o=e=>!/[^\t\n\r ]/.test(e);if(!t&&e.nodeType==Node.ELEMENT_NODE){r+="string"==typeof n&&""!==n?"\n"+n+"<":"<",r+=e.getAttribute("data-origname");let t=e.hasAttribute("data-origatts")?e.getAttribute("data-origatts").split(" "):[];for(let n of Array.from(e.attributes))n.name.startsWith("data-")||["id","lang","class"].includes(n.name)||(r+=" "+t.find((function(e){return e.toLowerCase()==n.name}))+'="'+n.value+'"'),"data-xmlns"==n.name&&(r+=' xmlns="'+n.value+'"');e.childNodes.length>0?r+=">":r+="/>"}for(let l of Array.from(e.childNodes))switch(l.nodeType){case Node.ELEMENT_NODE:r+="string"==typeof n?this.serialize(l,!1,n+"  "):this.serialize(l,!1,n);break;case Node.PROCESSING_INSTRUCTION_NODE:r+="<?"+l.nodeValue+"?>";break;case Node.COMMENT_NODE:r+="\x3c!--"+l.nodeValue+"--\x3e";break;default:if(t&&o(l.nodeValue)&&(r+=l.nodeValue.replace(/^\s*\n/,"")),"string"==typeof n&&o(l.nodeValue))break;r+=l.nodeValue}return!t&&e.childNodes.length>0&&(r+="string"==typeof n?"\n"+n+"</":"</",r+=e.getAttribute("data-origname")+">"),r}function N(e){return e.replace(/&gt;/,">").replace(/&quot;/,'"').replace(/&apos;/,"'").replace(/&amp;/,"&")}function y(e){if(e.namespaces)for(let t of Object.keys(e.namespaces))this.namespaces.has(e.namespaces[t])||Array.from(this.namespaces.values()).includes(t)||this.namespaces.set(e.namespaces[t],t);for(let t of this.namespaces.values())if(e[t])for(let b of Object.keys(e[t]))this.behaviors[`${t}:${b}`]=e[t][b];e.handlers&&console.log("Behavior handlers are no longer used."),e.fallbacks&&console.log("Fallback behaviors are no longer used.")}function T(e,element,b){let p;if(e===Object(e))for(let t of Object.keys(e))this.namespaces.has(e[t])||(this.namespaces.set(e[t],t),p=t);else p=e;this.behaviors[`${p}:${element}`]=b}function x(e,element){let p;if(e===Object(e))for(let t of Object.keys(e))this.namespaces.has(e[t])||(this.namespaces.set(e[t],t),p=t);else p=e;delete this.behaviors[`${p}:${element}`]}function L(){window.customElements?this.define.call(this,this.els):this.fallback.call(this,this.els)}class M{constructor(e){this.options=e||{},this.addBehaviors=y.bind(this),this.addBehavior=T.bind(this),this.applyBehaviors=L.bind(this),this.removeBehavior=x.bind(this),this.utilities={};for(const u of Object.keys(r))["getPrefixDef","rw","resolveURI"].includes(u)?this.utilities[u]=r[u].bind(this):this.utilities[u]=r[u];if(this.els=[],this.namespaces=new Map,this.behaviors={},this.hasStyle=!1,this.prefixDefs=[],this.debug=!0===this.options.debug,this.options.base)this.base=this.options.base;else try{window&&(this.base=window.location.href.replace(/\/[^\/]*$/,"/"))}catch(e){this.base=""}this.options.omitDefaultBehaviors||this.addBehaviors(o),this.options.ignoreFragmentId&&window&&window.removeEventListener("ceteiceanload",M.restorePosition)}getHTML5(e,t,n){return window&&window.location.href.startsWith(this.base)&&e.indexOf("/")>=0&&(this.base=e.replace(/\/[^\/]*$/,"/")),new Promise((function(t,n){let r=new XMLHttpRequest;r.open("GET",e),r.send(),r.onload=function(){this.status>=200&&this.status<300?t(this.response):n(this.statusText)},r.onerror=function(){n(this.statusText)}})).catch((function(e){console.log("Could not get XML file."),this.debug&&console.log(e)})).then(e=>this.makeHTML5(e,t,n))}makeHTML5(e,t,n){let r=(new DOMParser).parseFromString(e,"text/xml");return this.domToHTML5(r,t,n)}domToHTML5(e,t,n){this.els=function(e,t){const n=e.documentElement;let i=1,r=function(e){return t.has(e.namespaceURI?e.namespaceURI:"")||t.set(e.namespaceURI,"ns"+i++),t.get(e.namespaceURI?e.namespaceURI:"")+":"+e.localName};const o=new Set(Array.from(n.querySelectorAll("*"),r));return o.add(r(n)),o}(e,this.namespaces);let r=t=>{let o;if(this.namespaces.has(t.namespaceURI?t.namespaceURI:"")){let e=this.namespaces.get(t.namespaceURI?t.namespaceURI:"");o=document.createElement(`${e}-${t.localName}`)}else o=document.importNode(t,!1);for(let e of Array.from(t.attributes))"xmlns"==e.name?o.setAttribute("data-xmlns",e.value):o.setAttribute(e.name,e.value),"xml:id"==e.name&&o.setAttribute("id",e.value),"xml:lang"==e.name&&o.setAttribute("lang",e.value),"rendition"==e.name&&o.setAttribute("class",e.value.replace(/#/g,""));if(o.setAttribute("data-origname",t.localName),t.hasAttributes()&&o.setAttribute("data-origatts",t.getAttributeNames().join(" ")),0==t.childNodes.length&&o.setAttribute("data-empty",""),"head"==t.localName){let n=e.evaluate("count(ancestor::*[tei:head])",t,(function(e){if("tei"==e)return"http://www.tei-c.org/ns/1.0"}),XPathResult.NUMBER_TYPE,null);o.setAttribute("data-level",n.numberValue)}if("tagsDecl"==t.localName){let style=document.createElement("style");for(let e of Array.from(t.childNodes))if(e.nodeType==Node.ELEMENT_NODE&&"rendition"==e.localName&&"css"==e.getAttribute("scheme")){let t="";e.hasAttribute("selector")?(t+=e.getAttribute("selector").replace(/([^#, >]+\w*)/g,"tei-$1").replace(/#tei-/g,"#")+"{\n",t+=e.textContent):(t+="."+e.getAttribute("xml:id")+"{\n",t+=e.textContent),t+="\n}\n",style.appendChild(document.createTextNode(t))}style.childNodes.length>0&&(o.appendChild(style),this.hasStyle=!0)}"prefixDef"==t.localName&&(this.prefixDefs.push(t.getAttribute("ident")),this.prefixDefs[t.getAttribute("ident")]={matchPattern:t.getAttribute("matchPattern"),replacementPattern:t.getAttribute("replacementPattern")});for(let e of Array.from(t.childNodes))e.nodeType==Node.ELEMENT_NODE?o.appendChild(r(e)):o.appendChild(e.cloneNode());return n&&n(o,t),o};if(this.dom=r(e.documentElement),this.utilities.dom=this.dom,this.applyBehaviors(),this.done=!0,!t)return window&&window.dispatchEvent(C),this.dom;t(this.dom,this),window&&window.dispatchEvent(C)}unsetNamespace(e){this.namespaces.delete(e)}setBaseUrl(base){this.base=base}append(e,t){let n=this;if(!t)return function(){if(!this.hasAttribute("data-processed")){let content=e.call(n.utilities,this);content&&!n.childExists(this.firstElementChild,content.nodeName)&&n.appendBasic(this,content)}};{let content=e.call(n.utilities,t);content&&!n.childExists(t.firstElementChild,content.nodeName)&&n.appendBasic(t,content)}}appendBasic(e,content){h(e,!0),e.appendChild(content)}bName(e){return e.tagName.substring(0,e.tagName.indexOf("-")).toLowerCase()+":"+e.getAttribute("data-origname")}childExists(e,t){return!(!e||e.nodeName!=t)||e&&e.nextElementSibling&&this.childExists(e.nextElementSibling,t)}decorator(template){if(Array.isArray(template)&&!Array.isArray(template[0]))return this.applyDecorator(template);let e=this;return function(t){for(let n of template)if(t.matches(n[0])||"_"===n[0])return Array.isArray(n[1])?e.decorator(n[1]).call(this,t):n[1].call(this,t)}}applyDecorator(e){let t=this;return function(n){let r=[];for(let i=0;i<e.length;i++)r.push(t.template(e[i],n));return t.insert(n,r)}}getFallback(e,t){if(e[t])return e[t]instanceof Function?e[t]:decorator(e[t])}getHandler(e,t){if(e[t])return e[t]instanceof Function?this.append(e[t]):this.append(this.decorator(e[t]))}insert(e,t){let span=document.createElement("span");for(let t of Array.from(e.childNodes))t.nodeType!==Node.ELEMENT_NODE||t.hasAttribute("data-processed")||this.processElement(t);if(t[0].match("<[^>]+>")&&t[1]&&t[1].match("<[^>]+>")){span.innerHTML=t[0]+(t[1]?t[1]:"");for(let t of Array.from(e.childNodes))span.firstElementChild.appendChild(t.cloneNode(!0))}else{span.innerHTML=t[0],span.setAttribute("data-before",t[0].replace(/<[^>]+>/g,"").length);for(let t of Array.from(e.childNodes))span.appendChild(t.cloneNode(!0));t.length>1&&(span.innerHTML+=t[1],span.setAttribute("data-after",t[1].replace(/<[^>]+>/g,"").length))}return span}processElement(e){if(e.hasAttribute("data-origname")&&!e.hasAttribute("data-processed")){let t=this.getFallback(this.bName(e));t&&(this.append(t,e),e.setAttribute("data-processed",""))}for(let t of Array.from(e.childNodes))t.nodeType===Node.ELEMENT_NODE&&this.processElement(t)}tagName(e){return e.includes(":"),e.replace(/:/,"-").toLowerCase()}template(e,t){let n=e;if(e.search(/\$(\w*)(@([a-zA-Z:]+))/)){let r,o=/\$(\w*)@([a-zA-Z:]+)/g;for(;r=o.exec(e);)n=t.hasAttribute(r[2])?r[1]&&this.utilities[r[1]]?n.replace(r[0],this.utilities[r[1]](t.getAttribute(r[2]))):n.replace(r[0],t.getAttribute(r[2])):n.replace(r[0],"")}return n}define(e){for(let t of e)try{let e=this.getHandler(this.behaviors,t);window.customElements.define(this.tagName(t),class extends HTMLElement{constructor(){super(),this.matches(":defined")||(e&&e.call(this),this.setAttribute("data-processed",""))}connectedCallback(){this.hasAttribute("data-processed")||(e&&e.call(this),this.setAttribute("data-processed",""))}})}catch(e){this.debug&&(console.log(tagName(t)+" couldn't be registered or is already registered."),console.log(e))}}fallback(e){for(let t of e){let e=getFallback(this.behaviors,t);if(e)for(let n of Array.from((this.dom&&!this.done?this.dom:document).getElementsByTagName(tagName(t))))n.hasAttribute("data-processed")||append(e,n)}}static savePosition(){window.sessionStorage.setItem(window.location+"-scroll",window.scrollY)}static restorePosition(){if(window.location.hash)setTimeout((function(){let e=document.querySelector(window.decodeURI(window.location.hash));e&&e.scrollIntoView()}),100);else{let e;(e=window.sessionStorage.getItem(window.location+"-scroll"))&&setTimeout((function(){window.scrollTo(0,e)}),100)}}}try{if(window){window.CETEI=M,window.addEventListener("beforeunload",M.savePosition);var C=new Event("ceteiceanload");window.addEventListener("ceteiceanload",M.restorePosition)}}catch(e){console.log(e)}t.a=M},456:function(e,t,n){"use strict";n.r(t);n(87);var r=n(349),o=(n(153),{components:{},data:function(){return{baseUrl:"https://nakamura196.github.io/tei-js-pub",siteName:"TEI Viewer",github:"https://github.com/shibusawa-lab/lab1",loading:!1,width:window.innerWidth,height:window.innerHeight,drawer:!1,drawer2:!1,df:{},xmlStr:"",teiHTML:null}},head:function(){return{titleTemplate:null,title:this.$t(this.siteName)}},computed:{style:{get:function(){return this.$store.getters.getStyle},set:function(e){this.$store.commit("setStyle",e)}},xml:{get:function(){return this.$store.getters.getXml},set:function(e){this.$store.commit("setXml",e)}}},created:function(){this.loading=!0;var e=Date.now(),t=new r.a,n=this;t.getHTML5("data/DKB01_20210113.xml",(function(data){n.teiHTML=data.outerHTML,n.loading=!1,console.log("aaa",(Date.now()-e)/1e3)}))}}),l=n(67),d=n(95),c=n.n(d),h=n(460),m=n(452),f=n(408),w=n(459),E=n(357),A=n(350),v=n(337),N=n(311),y=n(453),T=n(362),x=n(451),L=n(325),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("v-app-bar",{attrs:{color:"primary",dark:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.drawer=!e.drawer}}},[n("v-icon",[e._v("mdi-view-list")])],1),e._v(" "),n("v-toolbar-title",[e._v("\n        "+e._s("渋沢栄一伝記資料別巻第一日記のTEIマークアップ")+"\n      ")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{depressed:"",btn:"",color:"primary"}},r),[n("v-icon",{staticClass:"mr-2"},[e._v("mdi-translate")])],1)]}}])},[e._v(" "),n("v-list",[n("v-list-item",{attrs:{to:e.switchLocalePath("ja")}},[n("v-list-item-title",[e._v("日本語")])],1),e._v(" "),n("v-list-item",{attrs:{to:e.switchLocalePath("en")}},[n("v-list-item-title",[e._v("English")])],1)],1)],1),e._v(" "),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer2=!e.drawer2}}})],1)],1),e._v(" "),e.loading?[n("div",{staticClass:"pa-10 text-center"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)]:e._e(),e._v(" "),n("div",{staticClass:"px-10 pt-10",style:"width: "+e.width+"px;"},[n("v-card",{staticClass:"scroll vertical pa-5",style:"height: "+.85*e.height+"px;",attrs:{id:"container",outlined:"",flat:""}},[n("div",{attrs:{id:"tei"},domProps:{innerHTML:e._s(e.teiHTML)}})])],1)],2)}),[],!1,null,null,null);t.default=component.exports;c()(component,{VAppBar:h.a,VAppBarNavIcon:m.a,VBtn:f.a,VCard:w.a,VIcon:E.a,VList:A.a,VListItem:v.a,VListItemTitle:N.b,VMenu:y.a,VProgressCircular:T.a,VSpacer:x.a,VToolbarTitle:L.a})}}]);