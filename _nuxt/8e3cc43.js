(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{317:function(t,e,o){"use strict";o.r(e);o(213);var r=o(14),n=o(25),l=o(23),c=o(18),f=o(11),d=o(13),m=o(115),v=o(153),h=o.n(v);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,r=Object(f.a)(t);if(e){var n=Object(f.a)(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Object(c.a)(this,o)}}var y=function(t,e,o,desc){var r,n=arguments.length,l=n<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(n<3?r(l):n>3?r(e,o,l):r(e,o))||l);return n>3&&l&&Object.defineProperty(e,o,l),l},x=function(t){Object(l.a)(o,t);var e=w(o);function o(){var t;return Object(r.a)(this,o),(t=e.apply(this,arguments)).model=0,t}return Object(n.a)(o,[{key:"scroll",value:function(t){var e=document.querySelector("#"+t).getBoundingClientRect(),o={container:"#container",offset:-1*document.querySelector("#container").getBoundingClientRect().width+e.width,x:!0};h.a.scrollTo("#"+t,0,o)}},{key:"xml",get:function(){return this.$store.getters.getXml},set:function(t){this.$store.commit("setXml",t)}},{key:"items",get:function(){var t=this.xml;if(!t)return[];for(var e=[],o=t.querySelectorAll("div"),i=0;i<o.length;i++)for(var div=o[i],r=div.children,n=0;n<r.length;n++){var l=r[n];if("head"===l.nodeName){var c=div.attributes["xml:id"].value;e.push({label:l.textContent,id:c}),this.id===c&&(this.model=e.length-1)}}return e}}]),o}(m.Vue);y([Object(m.Prop)()],x.prototype,"id",void 0);var j=x=y([Object(m.Component)({})],x),_=o(65),k=o(95),O=o.n(k),R=o(352),V=o(338),C=o(357),$=o(311),L=o(383),component=Object(_.a)(j,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-list",[o("v-list-item",{staticClass:"mt-5"},[o("v-list-item-title",[o("h3",[t._v(t._s(t.$t("コンテンツ")))])])],1),t._v(" "),o("v-list-item-group",{model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.items,(function(e,r){return o("v-list-item",{key:r,attrs:{link:""},on:{click:function(o){return t.scroll(e.id)}}},[o("v-list-item-action"),t._v(" "),o("v-list-item-content",[t._v(" "+t._s(e.label)+" ")])],1)})),1)],1)}),[],!1,null,null,null);e.default=component.exports;O()(component,{VList:R.a,VListItem:V.a,VListItemAction:C.a,VListItemContent:$.a,VListItemGroup:L.a,VListItemTitle:$.b})},377:function(t,e,o){var content=o(450);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(58).default)("01daf75a",content,!0,{sourceMap:!1})},379:function(t,e,o){"use strict";o.r(e);o(213);var r=o(14),n=o(25),l=o(23),c=o(18),f=o(11),d=o(13),m=o(115);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,r=Object(f.a)(t);if(e){var n=Object(f.a)(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Object(c.a)(this,o)}}var h=function(t,e,o,desc){var r,n=arguments.length,l=n<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(n<3?r(l):n>3?r(e,o,l):r(e,o))||l);return n>3&&l&&Object.defineProperty(e,o,l),l},w=function(t){Object(l.a)(o,t);var e=v(o);function o(){return Object(r.a)(this,o),e.apply(this,arguments)}return Object(n.a)(o,[{key:"xml",get:function(){return this.$store.getters.getXml},set:function(t){this.$store.commit("setXml",t)}},{key:"title",get:function(){var t=this.xml;return t?t.querySelector("tei-title").textContent:"TEI Viewer"}}]),o}(m.Vue),y=w=h([Object(m.Component)({})],w),x=o(65),component=Object(x.a)(y,(function(){var t=this.$createElement;return(this._self._c||t)("span",[this._v("\n  "+this._s(this.title)+"\n")])}),[],!1,null,null,null);e.default=component.exports},449:function(t,e,o){"use strict";o(377)},450:function(t,e,o){(e=o(57)(!1)).push([t.i,'.scroll{overflow-y:auto}.vertical{-ms-writing-mode:tb-rl;writing-mode:vertical-rl}tei-persName{background-color:#ffccbc}tei-placeName{background-color:#c8e6c9}tei-date{background-color:#bbdefb}tei-time{background-color:#fff9c4}tei-head{margin:20px;font-size:large!important;font-weight:700}[tooltip]{position:relative}[tooltip]:after,[tooltip]:before{text-transform:none;font-size:15px;font-weight:400;line-height:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;position:absolute;display:none;opacity:0}[tooltip]:before{content:"";border:5px solid transparent;z-index:1001}[tooltip]:after{content:attr(tooltip);font-family:Helvetica,sans-serif;text-align:center;min-width:3em;max-width:21em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:1.5ch;border-radius:.3ch;box-shadow:0 1em 2em -.5em rgba(0,0,0,.35);background:#333;color:#fff;z-index:1000}[tooltip]:hover:after,[tooltip]:hover:before{display:block}[tooltip=""]:after,[tooltip=""]:before{display:none!important}[tooltip]:not([flow]):before,[tooltip][flow^=up]:before{bottom:100%;border-bottom-width:0;border-top-color:#333}[tooltip]:not([flow]):after,[tooltip][flow^=up]:after{bottom:calc(100% + 5px)}[tooltip]:not([flow]):after,[tooltip]:not([flow]):before,[tooltip][flow^=up]:after,[tooltip][flow^=up]:before{left:50%;transform:translate(-50%,-.5em)}[tooltip][flow^=down]:before{top:100%;border-top-width:0;border-bottom-color:#333}[tooltip][flow^=down]:after{top:calc(100% + 5px)}[tooltip][flow^=down]:after,[tooltip][flow^=down]:before{left:50%;transform:translate(-50%,.5em)}[tooltip][flow^=left]:before{top:50%;border-right-width:0;border-left-color:#333;left:-5px;transform:translate(-.5em,-50%)}[tooltip][flow^=left]:after{top:50%;right:calc(100% + 5px);transform:translate(-.5em,-50%)}[tooltip][flow^=right]:before{top:50%;border-left-width:0;border-right-color:#333;right:-5px;transform:translate(.5em,-50%)}[tooltip][flow^=right]:after{top:50%;left:calc(100% + 5px);transform:translate(.5em,-50%)}@-webkit-keyframes tooltips-vert{to{opacity:.9;transform:translate(-50%)}}@keyframes tooltips-vert{to{opacity:.9;transform:translate(-50%)}}@-webkit-keyframes tooltips-horz{to{opacity:.9;transform:translateY(-50%)}}@keyframes tooltips-horz{to{opacity:.9;transform:translateY(-50%)}}[tooltip]:not([flow]):hover:after,[tooltip]:not([flow]):hover:before,[tooltip][flow^=down]:hover:after,[tooltip][flow^=down]:hover:before,[tooltip][flow^=up]:hover:after,[tooltip][flow^=up]:hover:before{-webkit-animation:tooltips-vert .3s ease-out forwards;animation:tooltips-vert .3s ease-out forwards}[tooltip][flow^=left]:hover:after,[tooltip][flow^=left]:hover:before,[tooltip][flow^=right]:hover:after,[tooltip][flow^=right]:hover:before{-webkit-animation:tooltips-horz .3s ease-out forwards;animation:tooltips-horz .3s ease-out forwards}',""]),t.exports=e},458:function(t,e,o){"use strict";o.r(e);o(22),o(40);var r=o(324),n=o(153),l=o.n(n),c=o(448),f=o.n(c),d=(o(213),o(14)),m=o(25),v=o(23),h=o(18),w=o(11),y=o(13),x=o(115);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,r=Object(w.a)(t);if(e){var n=Object(w.a)(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Object(h.a)(this,o)}}var _=function(t,e,o,desc){var r,n=arguments.length,l=n<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(y.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(n<3?r(l):n>3?r(e,o,l):r(e,o))||l);return n>3&&l&&Object.defineProperty(e,o,l),l},k=function(t){Object(v.a)(o,t);var e=j(o);function o(){var t;return Object(d.a)(this,o),(t=e.apply(this,arguments)).model=0,t}return Object(m.a)(o,[{key:"scroll",value:function(t){var e={container:"#container",offset:-1*document.querySelector("#container").getBoundingClientRect().width,x:!0};l.a.scrollTo("#"+t,500,e)}},{key:"xml",get:function(){return this.$store.getters.getXml},set:function(t){this.$store.commit("setXml",t)}},{key:"items",get:function(){var t=this.xml;if(!t)return[];for(var e=[],o=t.querySelectorAll("tei-div"),i=0;i<o.length;i++)for(var div=o[i],r=div.children,n=0;n<r.length;n++){var l=r[n];if("TEI-HEAD"===l.nodeName){if(!div.attributes["xml:id"])continue;var c=div.attributes["xml:id"].value;e.push({label:l.textContent,id:c}),this.id===c&&(this.model=e.length-1)}}return e}}]),o}(x.Vue);_([Object(x.Prop)()],k.prototype,"id",void 0);var O=k=_([Object(x.Component)({})],k),R=o(65),V=o(95),C=o.n(V),$=o(352),L=o(338),T=o(357),I=o(311),P=o(383),component=Object(R.a)(O,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-list",[o("v-list-item",{staticClass:"mt-5"},[o("v-list-item-title",[o("h3",[t._v(t._s(t.$t("コンテンツ")))])])],1),t._v(" "),o("v-list-item-group",{model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.items,(function(e,r){return o("v-list-item",{key:r,attrs:{link:""},on:{click:function(o){return t.scroll(e.id)}}},[o("v-list-item-action"),t._v(" "),o("v-list-item-content",[t._v(" "+t._s(e.label)+" ")])],1)})),1)],1)}),[],!1,null,null,null),S=component.exports;C()(component,{VList:$.a,VListItem:L.a,VListItemAction:T.a,VListItemContent:I.a,VListItemGroup:P.a,VListItemTitle:I.b});var E={components:{Menu:S,Title:o(379).default},data:function(){return{baseUrl:"https://nakamura196.github.io/tei-js-pub",siteName:"TEI Viewer",github:"https://github.com/shibusawa-lab/lab1",loading:!1,width:window.innerWidth,height:window.innerHeight,drawer:!1,drawer2:!1,canvas:"",manifest:null}},head:function(){return{titleTemplate:null,title:this.$t(this.siteName)}},computed:{style:{get:function(){return this.$store.getters.getStyle},set:function(t){this.$store.commit("setStyle",t)}},xml:{get:function(){return this.$store.getters.getXml},set:function(t){this.$store.commit("setXml",t)}}},mounted:function(){this.loading=!0,window.addEventListener("resize",this.handleResize);var t=this.$route.query.u||"data/small.xml",e=new r.a,o=this;e.getHTML5(t,(function(data){o.xml=data;for(var t=data.getElementsByTagName("tei-graphic"),i=0;i<t.length;i++){var source=t[i];f()(source).removeAttr("url")}f()("#tei").append(data);var e=f()("tei-facsimile").attr("source");o.manifest=e;for(var r=f()("tei-pb"),n=function(t){var e=r[t];if(!f()(e).attr("corresp"))return"continue";var n=f()(e).attr("corresp").replace("#",""),source=f()("#"+n),canvas=source.attr("source");source.text="";var l=f()('<img width="30px" class="ma-1" style="cursor: pointer; color: green;" src="'.concat(o.baseUrl,'/img/icons/image-24px.svg"/>'));l.on("click",(function(){o.canvas=canvas})),f()(e).prepend(l),l.after('<span class="ma-1" style="color : #9E9E9E">[Page @'.concat(f()(e).attr("corresp"),"]</span>"))},l=0;l<r.length;l++)n(l);var c=0;console.log({count:c}),c=0,console.log({count:c}),o.scroll(),o.loading=!1}))},methods:{handleResize:function(){this.width=window.innerWidth,this.height=window.innerHeight},scroll:function(){var t=this.$route.query;if(t.id){var e=t.id,o={container:"#container",offset:-1*document.querySelector("#container").getBoundingClientRect().width,x:!0};l.a.scrollTo("#"+e,0,o)}}}},z=(o(449),o(466)),D=o(343),N=o(465),X=o(420),A=o(310),B=o(359),M=o(459),H=o(460),G=o(364),J=o(425),U=o(457),W=o(322),Y=Object(R.a)(E,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",[o("v-navigation-drawer",{staticStyle:{"z-index":"100000"},attrs:{app:"",temporary:!0,width:384},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[o("Menu",{attrs:{id:t.$route.query.id}})],1),t._v(" "),o("v-app-bar",{attrs:{color:"primary",dark:"",flat:""}},[o("v-btn",{attrs:{icon:""},on:{click:function(e){t.drawer=!t.drawer}}},[o("v-icon",[t._v("mdi-view-list")])],1),t._v(" "),o("v-toolbar-title",[o("Title")],1),t._v(" "),o("v-spacer"),t._v(" "),o("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[o("v-btn",t._g({attrs:{depressed:"",btn:"",color:"primary"}},r),[o("v-icon",{staticClass:"mr-2"},[t._v("mdi-translate")])],1)]}}])},[t._v(" "),o("v-list",[o("v-list-item",{attrs:{to:t.switchLocalePath("ja")}},[o("v-list-item-title",[t._v("日本語")])],1),t._v(" "),o("v-list-item",{attrs:{to:t.switchLocalePath("en")}},[o("v-list-item-title",[t._v("English")])],1)],1)],1)],1)],1),t._v(" "),t.loading?[o("div",{staticClass:"pa-10 text-center"},[o("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)]:t._e(),t._v(" "),o("v-container",{attrs:{fluid:""}},[o("v-row",{staticClass:"mt-2"},[o("v-col",{attrs:{cols:"12",sm:t.manifest?6:12}},[o("v-card",{staticClass:"scroll vertical",style:"height: "+.85*t.height+"px; width: "+(t.manifest?t.width/2:t.width)+"px;",attrs:{id:"container",flat:"",outlined:""}},[o("div",{staticClass:"pa-4 px-5"},[o("div",{attrs:{id:"tei"}})])])],1),t._v(" "),o("v-col",{attrs:{cols:"12",sm:t.manifest?6:12}},[t.manifest?o("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],style:"height: "+.85*t.height+"px;",attrs:{src:"curation/?manifest="+t.manifest+"&canvas="+t.canvas,width:"100%",allowfullscreen:"allowfullscreen",frameborder:"0"}}):t._e()])],1)],1)],2)}),[],!1,null,null,null);e.default=Y.exports;C()(Y,{Menu:o(317).default,Title:o(379).default}),C()(Y,{VAppBar:z.a,VBtn:D.a,VCard:N.a,VCol:X.a,VContainer:A.a,VIcon:B.a,VList:$.a,VListItem:L.a,VListItemTitle:I.b,VMenu:M.a,VNavigationDrawer:H.a,VProgressCircular:G.a,VRow:J.a,VSpacer:U.a,VToolbarTitle:W.a})}}]);